import { Meta, Props, Story, Preview } from '@storybook/addon-docs/blocks';
import { withA11y } from '@storybook/addon-a11y';
import DModal from '../components/d-modal.vue';
import DButton from '../components/d-button.vue';
import { action } from "@storybook/addon-actions";

<Meta title="Elements|Modal" component={DModal} />

# Modal
<Props of={DModal} />

# DModal component
```jsx
<DButton name="Show Modal" @click="showModal = true" />
<DModal v-if="showModal" title="Modal Title" @close="showModal = false" />
```

<Preview>
  <Story name="Modal with content" decorators={[withA11y]}>
    {{
      components: { DModal, DButton },
      methods: { action: action("clicked") },
      data() {
          return {
              modalImageColors: [
                { closeOptions: 'header', variant: 'light', show: false },
                { closeOptions: 'header', variant: 'light', colorbar: 'success', show: false },
                { closeOptions: 'header', variant: 'light', colorbar: 'info', show: false },
                { closeOptions: 'header', variant: 'primary', colorbar: 'warning', show: false },
                { closeOptions: 'header', variant: 'warning', colorbar: 'danger', show: false }
              ],
              modalTextColors: [
                { closeOptions: 'header', variant: 'light', show: false },
                { closeOptions: 'header', variant: 'light', colorbar: 'success', show: false },
                { closeOptions: 'header', variant: 'light', colorbar: 'info', show: false },
                { closeOptions: 'header', variant: 'warning', colorbar: 'danger', show: false }
              ],
              modalSizes: [
                { closeOptions: 'header', variant: 'light', width: 'small', show: false },
                { closeOptions: 'header', variant: 'light', width: 'medium', show: false },
                { closeOptions: 'header', variant: 'warning', width: 'large', show: false }
              ],
              modalDesign: [
                { closeButtonText: 'Close', closeOptions: 'both', variant: 'light', width: 'medium', show: false }
              ],
              modalCard: [
                { closeButtonText: 'Close', closeOptions: 'both', variant: 'light', width: 'medium', show: false }
              ]
          }
      },
      template: `
      <div>
        <div>
            <h1 style="margin-bottom: 1rem;"> Image Modal colors</h1>
          <span v-for="modal  in modalImageColors">
            <DButton name="Show Modal" @click="modal.show = !modal.show" />
            <DModal v-if="modal.show" :variant="modal.variant" :colorbar="modal.colorbar" :close-button-text="modal.closeButtonText" :close-options="modal.closeOptions" @close="modal.show = !modal.show" >
              <template #content>
                <img src="https://via.placeholder.com/150">
              </template>
            </DModal> 
          </span>
        </div>
        <div style="margin-top: 2rem;">
            <h1 style="margin-bottom: 1rem;"> Text Modal colors</h1>
          <span v-for="modal  in modalTextColors">
            <DButton name="Show Modal" @click="modal.show = !modal.show" />
            <DModal v-if="modal.show" :variant="modal.variant" :colorbar="modal.colorbar" :close-button-text="modal.closeButtonText" :close-options="modal.closeOptions" @close="modal.show = !modal.show" >
              <template #content>
                <div class="content">
                  <h1>Level One</h1>
                  <p>
                      This is simple text. This is simple text. 
                      This is simple text. This is simple text.
                  </p>
                </div>
              </template>
            </DModal> 
          </span>
        </div>
        <div style="margin-top: 2rem;">
            <h1 style="margin-bottom: 1rem;"> Modal widths</h1>
          <span v-for="modal  in modalSizes">
            <DButton name="Show Modal" @click="modal.show = !modal.show" />
            <DModal v-if="modal.show" :variant="modal.variant" :width="modal.width" :close-button-text="modal.closeButtonText" :close-options="modal.closeOptions" @close="modal.show = !modal.show" >
              <template #content>
                <div class = "content">
                  <h1>Level One</h1>
                  <p>
                      This is simple text. This is simple text. 
                      This is simple text. This is simple text.
                  </p>
                </div>
              </template>
            </DModal> 
          </span>
        </div>
        <div style="margin-top: 2rem;">
            <h1 style="margin-bottom: 1rem;"> Modal Form</h1>
          <span v-for="modal  in modalDesign">
            <DButton name="Show Modal" @click="modal.show = !modal.show" />
            <DModal v-if="modal.show" :variant="modal.variant" :width="modal.width" :close-button-text="modal.closeButtonText" :close-options="modal.closeOptions" @close="modal.show = !modal.show" >
              <template #content>
                <form class="has-text-centered">
                  <p>
                    <label for="firstName">First Name</label>
                    <input id="firstName" type="text" />
                  </p>
                  <p>
                    <label for="lastName">Last Name</label>
                    <input id="lastName" type="text"/>
                  </p>
                  <p>
                    <label for="interests">Interests</label>
                    <textarea id="interests"></textarea>
                  </p>
                  <p>
                    <input type="checkbox" id="autoLogin"/>
                    <label for="autoLogin">Auto-login?</label>
                  </p>
              </form>
              </template>
            </DModal> 
          </span>
        </div>
        <div style="margin-top: 2rem;">
            <h1 style="margin-bottom: 1rem;"> Modal Card</h1>
          <span v-for="modal  in modalCard">
            <DButton name="Show Modal" @click="modal.show = !modal.show" />
            <DModal v-if="modal.show" :variant="modal.variant" :width="modal.width" :close-button-text="modal.closeButtonText" :close-options="modal.closeOptions" @close="modal.show = !modal.show" >
              <template #content>
                <div class="card">
                  <div class="card-image">
                    <figure class="image is-4by3">
                      <img src="https://bulma.io/images/placeholders/1280x960.png" alt="Placeholder image">
                    </figure>
                  </div>
                  <div class="card-content">
                    <div class="media">
                      <div class="media-left">
                        <figure class="image is-48x48">
                          <img src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image">
                        </figure>
                      </div>
                      <div class="media-content">
                        <p class="title is-4">John Smith</p>
                        <p class="subtitle is-6">@johnsmith</p>
                      </div>
                    </div>
                    <div class="content">
                      Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                      Phasellus nec iaculis mauris. <a href="#">@bulmaio</a>.
                      <a href="#">#css</a> <a href="#">#responsive</a>
                      <br>
                      <time datetime="2016-1-1">11:09 PM - 1 Jan 2016</time>
                    </div>
                  </div>
                </div>
              </template>
            </DModal> 
          </span>
        </div>
      </div>
      `
    }}
  </Story>
</Preview>